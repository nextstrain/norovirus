# This configuration file should contain all required configuration parameters
# for the phylogenetic workflow to run to completion.
#
# Define optional config parameters with their default values here so that users
# do not have to dig through the workflows to figure out the default values

# Sequences must be FASTA and metadata must be TSV
# Both files must be zstd compressed
sequences_url: "https://data.nextstrain.org/files/workflows/norovirus/sequences.fasta.zst"
metadata_url: "https://data.nextstrain.org/files/workflows/norovirus/metadata.tsv.zst"

strain_id_field: "accession"
# Will be used to generate the group and gene level references
reference: defaults/norovirus_outgroup_{group}.gb

filter:
  exclude: defaults/exclude.txt
  # minimum length is 67% of Norovirus virus genome
  min_length: 5032
  filter_params: --group-by year ORF2_type ORF1_type --sequences-per-group 30 --min-date 1950 --exclude-ambiguous-dates-by year

refine:
  root:
    default: best --timetree --date-confidence --clock-filter-iqd 4 --date-inference marginal
    all:
      p48: DQ366347 --timetree --date-confidence --clock-filter-iqd 4 --date-inference marginal
      VP2: best --timetree
      genome: best --timetree
    GII.4:
      p48: mid_point --timetree
      genome: best --timetree
      VPg: mid_point --timetree
      rdrp: best --timetree
    GII.3:
      3CLpro: best --timetree


colors:
  color_schemes: defaults/color_schemes.tsv
  color_orderings: defaults/color_orderings.tsv

export:
  auspice_config: defaults/auspice_config.json
  description: defaults/description.md